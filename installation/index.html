<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Installation - MOOSE.jl</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">MOOSE.jl</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="active">
                        <a href="./">Installation</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../examples/laplacian/">1. Laplacian</a>
</li>
                            
<li >
    <a href="../examples/auto_diff/">2. Auto-Diff</a>
</li>
                            
<li >
    <a href="../examples/petsc/">3. PETSc</a>
</li>
                            
<li >
    <a href="../examples/parallel/">4. Parallel</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Systems <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../systems/kernel/">Kernel</a>
</li>
                            
<li >
    <a href="../systems/boundary_condition/">BoundaryCondition</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="..">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../examples/laplacian/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/friedmud/MOOSE.jl">
                                <i class="fa fa-github"></i>GitHub
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#installation">Installation</a></li>
            <li><a href="#parallelism">Parallelism</a></li>
            <li><a href="#julia-packages">Julia Packages</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="installation">Installation</h1>
<p>MOOSE.jl currently requires a few packages that need to be manually installed.</p>
<h2 id="parallelism">Parallelism</h2>
<p>If you are <em>not</em> planning on running in parallel you can <em>skip</em> this section and go right to installing Julia Packages...</p>
<p>To run in parallel you need a working installation of MPI and PETSc.  MOOSE.jl has been tested with MPICH and MVAPICH, but any working MPI installation should work fine.</p>
<h3 id="petsc">PETSc</h3>
<p>In addtion to MPI, you will also need a working installation of <a href="https://www.mcs.anl.gov/petsc/">PETSc</a>.  There are many ways to get a working installation of PETSc.  You may be able to install it through your package manager, or you could use the MOOSE redistributable package from <a href="http://mooseframework.org/getting-started/">Step 1</a> of the <a href="http://mooseframework.org/getting-started/">MOOSE Getting Started guide</a>.</p>
<p>Your other option is to <a href="https://www.mcs.anl.gov/petsc/download/index.html">download the source</a> and compile it yourself.  MOOSE.jl has been tested with PETSc version 3.6.1 but will probably work with any recent version.</p>
<p>You will need to choose a place to install PETSc and export this in your environment as <code>PETSC_DIR</code>.  MOOSE.jl uses <code>PETSC_DIR</code> to know not only where to find PETSc but also whether or not to attempt to use PETSc at all.</p>
<p>To configure PETSc we recommend something like the following:</p>
<pre><code class="bash">./configure \
--prefix=$PETSC_DIR \
--download-hypre=1 \
--with-ssl=0 \
--with-debugging=no \
--with-pic=1 \
--with-shared-libraries=1 \
--with-cc=mpicc \
--with-cxx=mpicxx \
--with-fc=mpif90 \
--download-fblaslapack=1 \
--download-metis=1 \
--download-parmetis=1 \
--download-superlu_dist=1 \
--download-mumps=1 \
--download-scalapack=1 \
CC=mpicc CXX=mpicxx FC=mpif90 F77=mpif77 F90=mpif90 \
CFLAGS='-fPIC -fopenmp' \
CXXFLAGS='-fPIC -fopenmp' \
FFLAGS='-fPIC -fopenmp' \
FCFLAGS='-fPIC -fopenmp' \
F90FLAGS='-fPIC -fopenmp' \
F77FLAGS='-fPIC -fopenmp' \
PETSC_DIR=`pwd`
</code></pre>

<p>In particular <code>--download-metis</code> is critical for MOOSE.jl.  MOOSE.jl uses METIS for mesh partitioning in parallel and will not work in parallel without it.  MOOSE.jl currently expects METIS to exist as part of your PETSC installation.</p>
<p>Other than that, follow the PETSc installation instructions or you can follow the <a href="http://mooseframework.org/wiki/BasicManualInstallation/OSX/#4-petsc">recommended PETSc instructions</a> for MOOSE.</p>
<h2 id="julia-packages">Julia Packages</h2>
<p>To get all of the dependencies and MOOSE.jl... within a Julia 0.5 session do:</p>
<pre><code class="julia">Pkg.clone(&quot;https://github.com/KristofferC/ContMechTensors.jl.git&quot;)
Pkg.clone(&quot;https://github.com/friedmud/JuAFEM.jl.git&quot;)
Pkg.clone(&quot;https://github.com/friedmud/DummyMPI.jl.git&quot;)
</code></pre>

<p>If you went through the steps to set up MPI and PETSc then you should be able to use the <code>MiniPETSc</code> package:</p>
<pre><code class="julia">Pkg.clone(&quot;https://github.com/friedmud/MiniPETSc.jl.git&quot;)
</code></pre>

<p>Then, installing MOOSE.jl can be done via:</p>
<pre><code class="julia">Pkg.clone(&quot;https://github.com/friedmud/MOOSE.jl.git&quot;)
</code></pre>

<p>If you are new to Julia, you should know that these commands typically install the packages within the <code>~/.julia/v0.5</code> directory in your home directory.  If you navigate there you will see the <code>MOOSE</code> directory.  Inside of that directory are example problems and tests that can be instructive on how to use MOOSE.jl.</p>
<p>Below is a schematic showing most of the Julia packages that MOOSE.jl ultimately depends on:</p>
<p><img alt="MOOSE.jl Dependencies" src="../images/moose_deps.png" /></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>
        <script src="../mathjax-config.js"></script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
